!function(){var t=function(){var t=TS.templates.builders.buildMsgHTML;TS.templates.builders.buildMsgHTML=function(n,a){var e=t(n,a);try{var i=$("<div>").html(e),r=i.find("a.message_sender").attr("href"),s=i.find("div.action_hover_container"),o=s.find('a[data-action="mention"]');return r&&!o.length&&(o=$("<a>").attr("data-action","mention").attr("data-mention",r.split("/")[2]).addClass("ts_icon ts_icon_mentions").addClass("ts_tip ts_tip_top ts_tip_float ts_tip_delay_600 ts_tip_hidden").append($("<span>").addClass("ts_tip_tip").html("Mention")),s.prepend(o)),i.html()}catch(d){return console.error(d),e}},$(document).on("click",'[data-action="mention"]',function(t){var n=$("#message-input"),a=n.val()+"@"+$(t.target).data("mention");n.val(a.trim()+" ").trigger("autosize").trigger("autosize-resize").focus()})},n=document.createElement("script");n.type="text/javascript",n.innerHTML="("+t.toString()+")();",document.body.appendChild(n)}();